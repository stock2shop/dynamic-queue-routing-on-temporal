version: '2.7'

rpc:
    listen: tcp://127.0.0.1:6001

server:
    command: "php app.php"
    relay: pipes
    on_init:
        command: "php app.php configure"

jobs:
    consume: [ default ]
    pipelines:
        default:
            driver: memory
            config: { }
    pool:
        num_workers: 16

temporal:
    address: temporal:7233
    namespace: default
    activities:
        num_workers: 4

logs:
    level: info
    channels:
        server:
            level: info

# TODO https://roadrunner.dev/docs/beep-beep-reload
# reload:
#   # sync interval
#   interval: 1s
#   # global patterns to sync
#   patterns: [ ".php" ]
#   # list of included for sync services
#   services:
#     http:
#       # recursive search for file patterns to add
#       recursive: true
#       # ignored folders
#       ignore: [ "vendor" ]
#       # service specific file pattens to sync
#       patterns: [ ".php", ".go", ".md" ]
#       # directories to sync. If recursive is set to true,
#       # recursive sync will be applied only to the directories in `dirs` section
#       dirs: [ "." ]
